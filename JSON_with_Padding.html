<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>JSONP (JSON with Padding) - My personal blog note</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="http://didier.bernaudeau.net/JSON_with_Padding.html">

        <meta name="author" content="Didier Bernaudeau" />
        <meta name="keywords" content="Development,WebSite,HTML,JavaScript,PHP" />
        <meta name="description" content="This article shows how JSONP (JavaScript Object Notation with Padding) can be used to get data from different domains, bypassing SOP (Same-Origin Policy). JSONP uses the script tag, which is not in the scope of the SOP. Indeed, a JavaScript source file loaded from another domain will run in the origin of the HTML that includes the script, not in the domain where the JavaScript file originated from." />

        <meta property="og:site_name" content="My personal blog note" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="JSONP (JSON with Padding)"/>
        <meta property="og:url" content="http://didier.bernaudeau.net/JSON_with_Padding.html"/>
        <meta property="og:description" content="This article shows how JSONP (JavaScript Object Notation with Padding) can be used to get data from different domains, bypassing SOP (Same-Origin Policy). JSONP uses the script tag, which is not in the scope of the SOP. Indeed, a JavaScript source file loaded from another domain will run in the origin of the HTML that includes the script, not in the domain where the JavaScript file originated from."/>
        <meta property="article:published_time" content="2015-08-29" />
            <meta property="article:section" content="Articles" />
            <meta property="article:tag" content="Development" />
            <meta property="article:tag" content="WebSite" />
            <meta property="article:tag" content="HTML" />
            <meta property="article:tag" content="JavaScript" />
            <meta property="article:tag" content="PHP" />
            <meta property="article:author" content="Didier Bernaudeau" />


    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://didier.bernaudeau.net/theme/css/bootstrap.flatly.min.css" type="text/css"/>
    <link href="http://didier.bernaudeau.net/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="http://didier.bernaudeau.net/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="http://didier.bernaudeau.net/theme/css/style.css" type="text/css"/>

        <link href="http://didier.bernaudeau.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="My personal blog note ATOM Feed"/>



        <link href="http://didier.bernaudeau.net/feeds/articles.atom.xml" type="application/atom+xml" rel="alternate"
              title="My personal blog note Articles ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-default navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://didier.bernaudeau.net/" class="navbar-brand">
My personal blog note            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                    <li><a href="/category/articles.html">Articles</a></li>
                    <li><a href="/category/tutorials.html">Tutorials</a></li>
                    <li><a href="/category/press-review.html">Press Review</a></li>
                    <li><a href="/pages/presentation.html">Presentation</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="http://didier.bernaudeau.net/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://didier.bernaudeau.net/JSON_with_Padding.html"
                       rel="bookmark"
                       title="Permalink to JSONP (JSON with Padding)">
                        JSONP (JSON with Padding)
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-08-29T14:30:00+02:00"> sam. 29 août 2015</time>
    </span>
            <span class="label label-default">Modified</span>
            <span class="modified">
                <i class="fa fa-calendar"></i><time datetime="2015-08-29T14:30:00+02:00"> sam. 29 août 2015</time>
            </span>





<span class="label label-default">Tags</span>
	<a href="http://didier.bernaudeau.net/tag/development.html">Development</a>
        /
	<a href="http://didier.bernaudeau.net/tag/website.html">WebSite</a>
        /
	<a href="http://didier.bernaudeau.net/tag/html.html">HTML</a>
        /
	<a href="http://didier.bernaudeau.net/tag/javascript.html">JavaScript</a>
        /
	<a href="http://didier.bernaudeau.net/tag/php.html">PHP</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>This article shows how JSONP (JavaScript Object Notation with Padding) can be used to get data from different domains, bypassing SOP (Same-Origin Policy).</p>
<p>JSONP uses the script tag, which is not in the scope of the SOP. Indeed, a JavaScript source file loaded from another domain will run in the origin of the HTML that includes the script, not in the domain where the JavaScript file originated from.</p>

<div class="section" id="step-1-create-jsonp-webservice">
<h2>Step 1 : Create JSONP WebService</h2>
<p>The web service encapsulates data, in JSON format, in a callback function. Create a PHP script named "jsonp.php" and hosted on "www.example.com" :</p>
<pre class="code php literal-block">
<span class="cp">&lt;?</span>
 <span class="nv">$MyData</span> <span class="o">=</span> <span class="s1">'{ "MyDateTime": "'</span> <span class="o">.</span> <span class="nb">date</span><span class="p">(</span><span class="s2">"Y-m-d H:i:s"</span><span class="p">)</span> <span class="o">.</span> <span class="s1">'" }'</span><span class="p">;</span>
 <span class="k">echo</span> <span class="nv">$_GET</span><span class="p">[</span><span class="s1">'JsonpCallback'</span><span class="p">]</span> <span class="o">.</span> <span class="s1">'('</span> <span class="o">.</span> <span class="nv">$MyData</span> <span class="o">.</span> <span class="s1">');'</span><span class="p">;</span>
<span class="cp">?&gt;</span>
</pre>
</div>
<div class="section" id="step-2-create-html-web-page">
<h2>Step 2 : Create HTML web page</h2>
<p>The HTML page loads the JavaScript source file, from JSONP WebService, then execute the callback function. Create the HTML page named jsonp.html and hosted on your localhost :</p>
<pre class="code html literal-block">
<span class="cp">&lt;!doctype html&gt;</span>
<span class="nt">&lt;html&gt;</span>
 <span class="nt">&lt;head&gt;</span>

  <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"text/javascript"</span><span class="nt">&gt;</span>

    <span class="kd">function</span> <span class="nx">LoadJavaScript</span><span class="p">()</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">script</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">'script'</span><span class="p">);</span>
      <span class="nx">script</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">'http://www.example.com/jsonp.php?JsonpCallback=MyJsonpCallbackFunction'</span><span class="p">;</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">script</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">MyJsonpCallbackFunction</span><span class="p">(</span><span class="nx">DataArgument</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">MyJson</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">DataArgument</span><span class="p">));</span>
      <span class="nx">alert</span><span class="p">(</span><span class="nx">MyJson</span><span class="p">[</span><span class="s2">"MyDateTime"</span><span class="p">]);</span>
    <span class="p">}</span>

  <span class="nt">&lt;/script&gt;</span>

 <span class="nt">&lt;/head&gt;</span>
 <span class="nt">&lt;body&gt;</span>
   <span class="nt">&lt;button</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">onclick=</span><span class="s">"LoadJavaScript();"</span><span class="nt">&gt;</span>Click me to display Date and Time<span class="nt">&lt;/button&gt;</span>
 <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre>
</div>
<div class="section" id="jsonp-limits">
<h2>JSONP limits</h2>
<p>JSONP only supports Cross-Origin HTTP GET request. Even more, the server could be compromised and return arbitrary code that will be executing in the context of your page (thus allowing access to your site’s cookies, localStorage, ...)</p>
</div>
<div class="section" id="references">
<h2>References</h2>
<blockquote>
<ul class="simple">
<li><a class="reference external" href="http://www.codeproject.com/Articles/42641/JSON-to-JSONP-Bypass-Same-Origin-Policy">Code Project, JSON to JSONP: Bypass Same-Origin Policy</a></li>
<li><a class="reference external" href="http://phocean.net/2013/10/13/csrf-with-jsonp.html">Phocean.net - Computer Security Blog, (in)Security of JSONP: CSRF risks</a></li>
</ul>
</blockquote>
</div>

            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="http://didier.bernaudeau.net/Same_Origin_Policy.html">SOP (Same-Origin Policy)</a></li>
        <li><a href="http://didier.bernaudeau.net/Cross_Origin_Resource_Sharing.html">CORS (Cross-Origin Resource Sharing)</a></li>
    </ul>
</section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<div id="aboutme">
        <p>
            <img width="60%" class="img-thumbnail" src="/images/avatar.png"/>
        </p>
    <p>
        <strong>About D. Bernaudeau</strong><br/>
        I’m Didier Bernaudeau, an Information Systems Security Professional. This site is a way to note some experimentations.
    </p>
</div>
<section class="well well-sm">
    <ul class="list-group list-group-flush">



            <li class="list-group-item"><a href="http://didier.bernaudeau.net/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
                <ul class="list-group list-inline tagcloud" id="tags">
                    <li class="list-group-item tag-2">
                        <a href="http://didier.bernaudeau.net/tag/certificate.html">
                            Certificate
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://didier.bernaudeau.net/tag/cryptography.html">
                            Cryptography
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://didier.bernaudeau.net/tag/development.html">
                            Development
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="http://didier.bernaudeau.net/tag/gentoo.html">
                            Gentoo
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="http://didier.bernaudeau.net/tag/hardware.html">
                            Hardware
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://didier.bernaudeau.net/tag/html.html">
                            HTML
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://didier.bernaudeau.net/tag/javascript.html">
                            JavaScript
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://didier.bernaudeau.net/tag/linux.html">
                            Linux
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://didier.bernaudeau.net/tag/network.html">
                            Network
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://didier.bernaudeau.net/tag/pelican.html">
                            Pelican
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://didier.bernaudeau.net/tag/php.html">
                            PHP
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://didier.bernaudeau.net/tag/pki.html">
                            PKI
                        </a>
                    </li>
                    <li class="list-group-item tag-1">
                        <a href="http://didier.bernaudeau.net/tag/press-review.html">
                            Press review
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://didier.bernaudeau.net/tag/software.html">
                            Software
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://didier.bernaudeau.net/tag/virtualization.html">
                            Virtualization
                        </a>
                    </li>
                    <li class="list-group-item tag-2">
                        <a href="http://didier.bernaudeau.net/tag/website.html">
                            WebSite
                        </a>
                    </li>
                    <li class="list-group-item tag-4">
                        <a href="http://didier.bernaudeau.net/tag/windows.html">
                            Windows
                        </a>
                    </li>
                </ul>
            </li>


    </ul>
</section>
            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2016 D. Bernaudeau
            &middot; Powered by <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>              <p><small>  <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="//i.creativecommons.org/l/by-nc-nd/4.0/80x15.png" /></a>
    Content
  licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-nd/4.0/">Creative Commons Attribution-NonCommercial-NoDerivatives 4.0 International License</a>, except where indicated otherwise.
</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="http://didier.bernaudeau.net/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://didier.bernaudeau.net/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://didier.bernaudeau.net/theme/js/respond.min.js"></script>


</body>
</html>